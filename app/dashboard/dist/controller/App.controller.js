sap.ui.define(["./BaseController","sap/ui/model/json/JSONModel","sap/ui/core/message/ControlMessageProcessor","sap/m/MessageBox","sap/ui/core/MessageType","sap/ui/core/ValueState"],function(e,t,a,s,r,o,n){"use strict";return e.extend("zdashboard.controller.App",{onInit:function(){var e,s,i=this.getView().getBusyIndicatorDelay();e=new t({busy:true,delay:0,selectedItem:"files",paramsExpanded:true,sideBarExpanded:true,breadcrumbLinks:[{}],layout:"TwoColumnsBeginExpanded",isEditable:false,bProcessFlowVisible:true});this.setModel(e,"appView");s=function(){e.setProperty("/busy",false);e.setProperty("/delay",i)};this.getOwnerComponent().getModel().metadataLoaded().then(s);this.getOwnerComponent().getModel().attachMetadataFailed(s);this.getView().addStyleClass(this.getOwnerComponent().getContentDensityClass());var d=new a;var g=sap.ui.getCore().getMessageManager();g.registerMessageProcessor(d);sap.ui.getCore().attachValidationError(function(e){var t=e.getParameter("element");var a=e.getParameter("message");var s=sap.ui.getCore().byId(t.getId());s.setValueState(n.Error);debugger;g.addMessages(new r({message:a,type:o.Error,target:"/name",processor:d}))});this.getRouter().attachRouteMatched(this._onRouteMatched.bind(this))},onItemSelect:function(e){var t=e.getParameter("item").getKey();if(t==="params"){this._toggleItemExpand()}function a(){this.getRouter().navTo(t)}if(this.getModel().hasPendingChanges()){s.confirm("Unsaved data will be lost.",{onClose:function(e){if(e==s.Action.OK){this.getModel().resetChanges();a.call(this)}}.bind(this)})}else{a.call(this)}},_onRouteMatched:function(e){this._updateBreadcrumbs(e.getParameter("config").pattern)},_updateBreadcrumbs:function(e){var t=[{key:"main",text:this.getResourceBundle().getText("main")}];var a=e.replace(/\/\:.+\:/,"");var s=a.split("/");s.pop();for(var r in s){t.push({key:s[r],text:this.getResourceBundle().getText(s[r])})}this.getModel("appView").setProperty("/breadcrumbLinks",t)},_toggleItemExpand:function(){var e=this.getModel("appView").getProperty("/paramsExpanded");this.getModel("appView").setProperty("/paramsExpanded",!e)},onMenu:function(){var e=this.getModel("appView").getProperty("/sideBarExpanded");this.getModel("appView").setProperty("/sideBarExpanded",!e)}})});
//# sourceMappingURL=App.controller.js.map